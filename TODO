need to fix if_player func and make game exit properly!